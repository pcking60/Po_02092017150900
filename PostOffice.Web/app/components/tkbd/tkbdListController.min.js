"use strict";angular.module("postoffice.tkbd").controller("tkbdListController",["$scope","apiService","notificationService","$ngBootbox","$filter","$state",function(n,t,i,r,u,f){function o(){e()}function s(){t.get("/api/tkbd/update",null,function(t){console.log(t.data.TotalCount);n.loading=!1;n.tkbds=t.data.Items;n.page=t.data.Page;n.pagesCount=t.data.TotalPages;n.totalCount=t.data.TotalCount;f.reload()},function(){n.loading=!1;console.log("Load tkbds failed")})}function e(r){r=r||0;var u={params:{page:r,pageSize:20}};t.get("/api/tkbd/getall",u,function(t){t.data.TotalCount==0&&i.displayWarning("Không tìm thấy bản ghi nào!");n.loading=!1;n.tkbds=t.data.Items;n.page=t.data.Page;n.pagesCount=t.data.TotalPages;n.totalCount=t.data.TotalCount},function(){n.loading=!1;console.log("Load list TKBD failed")})}n.page=0;n.pagesCount=0;n.tkbds=[];n.getTkbds=e;n.keyword="";n.search=o;n.loading=!0;n.update=s;n.getTkbds()}]);